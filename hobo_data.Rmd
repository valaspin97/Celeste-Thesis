---
title: "Plotting Wetland Water Level and Temperature Data"
author: "Valeria Aspinall"
date: "Last Updated: 2026-01-27"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r include=FALSE}
# Packages -----------------------
library(plotly)
library(ggplot2)
library(knitr)
library(readxl)
```

### HOBO MX20L - Placement Map Image
```{r echo=FALSE, fig.algin='left', out.width='100%'} 
knitr::include_graphics("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/HOBO_Map.png")
```

```{r include=FALSE}
# Data -----------------------
#1. uploading the data for all of the loggers, after I have compensated on the HOBOconnect app

#1a. 
# HOBO #1 - 22304971 | Area Amplexo
## Date Installed: 2025-06-14
## Data Range: 2025-07-19 16:30:00 to 2026-01-03 11:00:00
hobo1_raw <- read_xlsx("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/22304971 2026-01-03 12_04_16 EST (Data CST).xlsx")
hobo1_clean <- na.omit(hobo1_raw) #remove the NA rows, no water level values due to compensation overlap 

#1b.
# HOBO #2 - 22339438 | Espejo de Agua 
## Date Installed: 2025-07-15 
## Data Range: 2025-07-19 16:45:00 to 2026-01-03 10:30:00
hobo2_raw <- read_xlsx("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/22339438 2026-01-03 11_39_58 EST (Data CST).xlsx")
hobo2_clean <- na.omit(hobo2_raw) #remove the NA rows, no water level values due to compensation overlap 

#1c. 
# HOBO #3 - 22339387 | Plataforma 2
## Date Installed: 2025-07-03 
## Data Range: 2025-07-19 17:00:00 to 2026-01-03 10:00:00
hobo3_raw <- read_xlsx("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/22339387 2026-01-03 11_06_50 EST (Data CST).xlsx")
hobo3_clean <- na.omit(hobo3_raw) #remove the NA rows, no water level values due to compensation overlap 

#1d. 
# HOBO #4 - 22339440 | Panal Avispas 
## Date Installed: 2025-07-15 
## Data Range: 2025-07-19 16:45:00 to 2026-01-03 10:30:00
hobo4_raw <- read_xlsx("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/22339440 2026-01-03 10_40_54 EST (Data CST).xlsx")
hobo4_clean <- na.omit(hobo4_raw) #remove the NA rows, no water level values due to compensation overlap 

#1e.
# HOBO #5 - 22339439 | Canal Profundo 
## Date Installed: 2025-07-31 
## Data Range: 2025-07-31 12:00:00 to 2025-10-23 11:15:00
hobo5_raw <- read_xlsx("/Users/valeriaaspinall/Desktop/UGA Thesis Project /R Work - Thesis/Celeste Thesis/hobo_data/22339439 2025-10-23 13_19_35 EDT (Data CST).xlsx")
hobo5_clean <- na.omit(hobo5_raw) #remove the NA rows, no water level values due to compensation overlap 
```

### HOBO MX20L - Plotly Water Level Data (m)
```{r}
#2. plotting the water level data for each logger in Tapir Valley's wetland 

fig_HOBO_wl <- plot_ly(width = 1000, height = 500) %>%
  add_trace(data = hobo1_clean, x = ~`Date-Time (CST)`, y = ~`Water Level , m`,  # add HOBO #1
            name = 'HOBO #1', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo2_clean, x = ~`Date-Time (CST)`, y = ~`Water Level , m`,  # add HOBO #2 
            name = 'HOBO #2', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo3_clean, x = ~`Date-Time (CST)`, y = ~`Water Level , m`,  # add HOBO #3 
            name = 'HOBO #3', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo4_clean, x = ~`Date-Time (CST)`, y = ~`Water Level , m`,  # add HOBO #4
            name = 'HOBO #4', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo5_clean, x = ~`Date-Time (CST)`, y = ~`Water Level , m`,  # add HOBO #5 
            name = 'HOBO #5', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  layout(title = list(
    text = "Water Level Data - Tapir Valley's Wetland"),
         xaxis = list(title = "Date and Time",
                      standoff = 5, 
                      automargin = TRUE),
         yaxis = list(title = "Water Level (m)",
                      standoff = 20, 
                      automargin = TRUE),
    margin = list(b = 150, r = 80),
    legend = list(orientation = "h", x = 0.5, xanchor = "center", y = -0.15),
    annotations = list(x = 0.5, xanchor = "center", 
                       y = -0.4, # the y = -0.4 pushes the caption down
                       text = "Figure 1: Combined HOBO MX20L Water Level Data from Tapir Valleys' Wetland",
                       showarrow = F,
                       xref='paper', yref='paper',
                       xanchor='center', yanchor='center',
                       font = list(size = 12)))

fig_HOBO_wl
```

### HOBO MX20L - Plotly Temperature Data (m)
```{r}

fig_HOBO_temp <- plot_ly(width = 1000, height = 500) %>%
  add_trace(data = hobo1_clean, x = ~`Date-Time (CST)`, y = ~`Temperature , °C`,  # add HOBO #1
            name = 'HOBO #1', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo2_clean, x = ~`Date-Time (CST)`, y = ~`Temperature , °C`,  # add HOBO #2 
            name = 'HOBO #2', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo3_clean, x = ~`Date-Time (CST)`, y = ~`Temperature , °C`,  # add HOBO #3 
            name = 'HOBO #3', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo4_clean, x = ~`Date-Time (CST)`, y = ~`Temperature , °C`,  # add HOBO #4
            name = 'HOBO #4', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  add_trace(data = hobo5_clean, x = ~`Date-Time (CST)`, y = ~`Temperature , °C`,  # add HOBO #5 
            name = 'HOBO #5', type = 'scatter', mode = 'lines',
            line = list(width = 0.8)) %>%
  layout(title = list(
    text = "Water Temperature Data - Tapir Valley's Wetland"),
         xaxis = list(title = "Date and Time",
                      standoff = 5, 
                      automargin = TRUE),
         yaxis = list(title = "Temperature (°C)",
                      standoff = 20, 
                      automargin = TRUE),
    margin = list(b = 150, r = 80),
    legend = list(orientation = "h", x = 0.5, xanchor = "center", y = -0.15),
    annotations = list(x = 0.5, xanchor = "center", 
                       y = -0.4, # the y = -0.4 pushes the caption down
                       text = "Figure 2: Combined HOBO MX20L Water Temperature Data from Tapir Valleys' Wetland",
                       showarrow = F,
                       xref='paper', yref='paper',
                       xanchor='center', yanchor='center',
                       font = list(size = 12)))

fig_HOBO_temp
```
